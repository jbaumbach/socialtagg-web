include mixins/eventanalyticschart

extends layout

block javascripts
  script(src='/js/Chart.min.js')
  script(src='/js/ng-eventanalytics.js')

block content

  .container.event-analytics(ng-controller='analyticsController', ng-init='init(' + publicEvent + ')')
    
    .sixteen.columns
      #page-title
        h2 Event Analytics for #{ event.name }
        #bolded-line

      .headline
        h3 Your Event: At a Glance

      p Stuff from Tim here hopefully...


      .headline
        h3 Attendee Demographics

      
      //- todo: grab height and width from the server - based on device?
      //- Maybe set from Angular?

      mixin eventanalyticschart(500, 300, 'Companies Represented', 'companySummary')

      mixin eventanalyticschart(500, 300, 'Job Titles Represented', 'titlesSummary')

      mixin eventanalyticschart(500, 300, 'Summary of Check-in Times', 'checkinTimeSummary')

      .headline
        h3 Survey Results
          
      - if (locals.survey)
        - each question in survey.questions
          mixin eventanalyticschart(300, 300, question.text, 'sq-' + question.questionId)

      - else
        
        p No attendee survey was used for this event.